{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\monu\\\\Downloads\\\\lms-develop\\\\lms\\\\src\\\\LeaveComponent\\\\ApplyLeave.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\";\n\nclass ApplyLeave extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState(state);\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        type,\n        reason,\n        fromDate,\n        toDate\n      } = this.state;\n      console.log(type);\n      axios.post(\"/users/\" + this.props.match.params.id + \"/leaves/\" + type, {\n        type: {},\n        reason,\n        fromDate,\n        toDate\n      }).then(result => {\n        this.props.history.push(\"/activeleaves/\" + this.props.match.params.id);\n      }).catch(() => {\n        this.setState({\n          applyStatus: true\n        });\n      });\n    };\n\n    this.state = {\n      type: {},\n      reason: \"\",\n      fromDate: new Date(),\n      toDate: new Date(),\n      isLoading: false,\n      applyStatus: false,\n      Types: []\n    };\n    this.handleDateChangefrom = this.handleDateChangefrom.bind(this);\n    this.handleDateChangeto = this.handleDateChangeto.bind(this);\n  }\n\n  async componentDidMount() {\n    const response = await fetch(\"/leavestype\");\n    const body = await response.json();\n    this.setState({\n      Types: body,\n      isLoading: false\n    });\n  }\n\n  handleDateChangefrom(date) {\n    this.setState({\n      fromDate: date\n    });\n  }\n\n  handleDateChangeto(date) {\n    this.setState({\n      toDate: date\n    });\n  }\n\n  render() {\n    const {\n      reason,\n      fromDate,\n      toDate,\n      type\n    } = this.state;\n    const {\n      Types\n    } = this.state;\n    let optionList = Types.map(types => /*#__PURE__*/React.createElement(\"option\", {\n      value: types.id,\n      key: types.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, \" \", types.leave_name, \" \"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"panel-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, \" APPLY Leaves \"), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, \" \", this.state.applyStatus && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \" Exceeds Max Duration \"), \" \", /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"isbn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \" Leave Type: \"), \" \", /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"type\",\n      value: type,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, \" \", optionList, \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, \" From Date: \"), \" \", /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"form-control\",\n      selected: fromDate,\n      onChange: this.handleDateChangefrom,\n      name: \"fromDate\",\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    })), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"published_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \" To Date: \"), \" \", /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"form-control\",\n      selected: toDate,\n      onChange: this.handleDateChangeto,\n      name: \"toDate\",\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    })), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"publisher\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \" Reason: \"), \" \", /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"reason\",\n      value: reason,\n      onChange: this.onChange,\n      placeholder: \"Reason\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    })), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, \" \", \"Submit\", \" \"), \" \"), \" \"), \" \"), \" \");\n  }\n\n}\n\nexport default ApplyLeave;","map":{"version":3,"sources":["C:/Users/monu/Downloads/lms-develop/lms/src/LeaveComponent/ApplyLeave.js"],"names":["React","Component","DatePicker","axios","ApplyLeave","constructor","props","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","type","reason","fromDate","toDate","console","log","post","match","params","id","then","result","history","push","catch","applyStatus","Date","isLoading","Types","handleDateChangefrom","bind","handleDateChangeto","componentDidMount","response","fetch","body","json","date","render","optionList","map","types","leave_name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from \"axios\";\r\n\r\nclass ApplyLeave extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: {},\r\n      reason: \"\",\r\n      fromDate: new Date(),\r\n      toDate: new Date(),\r\n      isLoading: false,\r\n      applyStatus: false,\r\n      Types: [],\r\n    };\r\n    this.handleDateChangefrom = this.handleDateChangefrom.bind(this);\r\n    this.handleDateChangeto = this.handleDateChangeto.bind(this);\r\n  }\r\n  onChange = (e) => {\r\n    const state = this.state;\r\n    state[e.target.name] = e.target.value;\r\n    this.setState(state);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const response = await fetch(\"/leavestype\");\r\n    const body = await response.json();\r\n    this.setState({ Types: body, isLoading: false });\r\n  }\r\n\r\n  handleDateChangefrom(date) {\r\n    this.setState({\r\n      fromDate: date,\r\n    });\r\n  }\r\n  handleDateChangeto(date) {\r\n    this.setState({\r\n      toDate: date,\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { type, reason, fromDate, toDate } = this.state;\r\n    console.log(type);\r\n\r\n    axios\r\n      .post(\"/users/\" + this.props.match.params.id + \"/leaves/\" + type, {\r\n        type: {},\r\n        reason,\r\n        fromDate,\r\n        toDate,\r\n      })\r\n      .then((result) => {\r\n        this.props.history.push(\"/activeleaves/\"+this.props.match.params.id);\r\n      })\r\n      .catch(() => {\r\n        this.setState({ applyStatus: true });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { reason, fromDate, toDate, type } = this.state;\r\n    const { Types } = this.state;\r\n\r\n    let optionList = Types.map((types) => (\r\n      <option value={types.id} key={types.id}>\r\n        {\" \"}\r\n        {types.leave_name}{\" \"}\r\n      </option>\r\n    ));\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"panel panel-default\">\r\n          <div className=\"panel-heading\">\r\n            <center>\r\n              {\" \"}\r\n              <h2 className=\"panel-title\"> APPLY Leaves </h2>{\" \"}\r\n            </center>{\" \"}\r\n          </div>{\" \"}\r\n          <div className=\"panel-body\">\r\n            {\" \"}\r\n            {this.state.applyStatus && (\r\n              <div className=\"alert alert-warning\"> Exceeds Max Duration </div>\r\n            )}{\" \"}\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label for=\"isbn\"> Leave Type: </label>{\" \"}\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"type\"\r\n                  value={type}\r\n                  onChange={this.onChange}\r\n                >\r\n                  {\" \"}\r\n                  {optionList}{\" \"}\r\n                </select>{\" \"}\r\n              </div>{\" \"}\r\n              <div className=\"form-group\">\r\n                <label for=\"password\"> From Date: </label>{\" \"}\r\n                <DatePicker\r\n                  className=\"form-control\"\r\n                  selected={fromDate}\r\n                  onChange={this.handleDateChangefrom}\r\n                  name=\"fromDate\"\r\n                  dateFormat=\"MM/dd/yyyy\"\r\n                />\r\n              </div>{\" \"}\r\n              <div className=\"form-group\">\r\n                <label for=\"published_date\"> To Date: </label>{\" \"}\r\n                <DatePicker\r\n                  className=\"form-control\"\r\n                  selected={toDate}\r\n                  onChange={this.handleDateChangeto}\r\n                  name=\"toDate\"\r\n                  dateFormat=\"MM/dd/yyyy\"\r\n                />\r\n              </div>{\" \"}\r\n              <div className=\"form-group\">\r\n                <label for=\"publisher\"> Reason: </label>{\" \"}\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"reason\"\r\n                  value={reason}\r\n                  onChange={this.onChange}\r\n                  placeholder=\"Reason\"\r\n                />\r\n              </div>{\" \"}\r\n              <button type=\"submit\" class=\"btn btn-secondary\">\r\n                {\" \"}\r\n                Submit{\" \"}\r\n              </button>{\" \"}\r\n            </form>{\" \"}\r\n          </div>{\" \"}\r\n        </div>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ApplyLeave;\r\n"]},"metadata":{},"sourceType":"module"}