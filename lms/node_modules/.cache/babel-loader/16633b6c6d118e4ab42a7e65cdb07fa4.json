{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\monu\\\\Downloads\\\\lms-develop\\\\lms\\\\src\\\\LeaveComponent\\\\ApplyLeave.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nclass ApplyLeave extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState(state);\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        type,\n        reason,\n        fromDate,\n        toDate\n      } = this.state;\n      axios.post(\"/employees/\" + this.props.match.params.id + \"/leaves\", {\n        type,\n        reason,\n        fromDate,\n        toDate\n      }).then(result => {\n        this.props.history.push(\"/activeleaves\");\n      });\n    };\n\n    this.state = {\n      type: {\n        id: 0,\n        leave_name: \"\",\n        max_count: 0\n      },\n      reason: \"\",\n      fromDate: new Date(),\n      toDate: new Date(),\n      isLoading: false,\n      Types: []\n    };\n    this.handleDateChangefrom = this.handleDateChangefrom.bind(this);\n    this.handleDateChangeto = this.handleDateChangeto.bind(this);\n  }\n\n  async componentDidMount() {\n    const response = await fetch('/leavestype');\n    const body = await response.json();\n    this.setState({\n      Types: body,\n      isLoading: false\n    });\n  }\n\n  handleDateChangefrom(date) {\n    this.setState({\n      fromDate: date\n    });\n  }\n\n  handleDateChangeto(date) {\n    this.setState({\n      toDate: date\n    });\n  }\n\n  render() {\n    const {\n      type,\n      reason,\n      fromDate,\n      toDate\n    } = this.state;\n    const {\n      Types\n    } = this.state;\n    if (isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 22\n      }\n    }, \" Loading.... \");\n    let optionList = Types.map(types => /*#__PURE__*/React.createElement(\"option\", {\n      value: types.id,\n      key: types.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \" \", types.leave_name, \" \"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \" \", \" \", \" \", /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"panel-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 38\n      }\n    }, \" ADD Leaves \"), \" \", \" \"), \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, \" \", \" \", \" \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 34\n      }\n    }, \" \", \" \", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-th-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 49\n      }\n    }, \" \"), \" Employees List \", \" \", \" \"), \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"isbn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \" Type: \"), \" \", \" \", /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"type\",\n      value: type,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \" Select \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Earned Leave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 64\n      }\n    }, \" Earned Leave \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Accumulated Earned Leave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 82\n      }\n    }, \" \", \" \", \"Accumulated Earned Leave \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Leave Without Pay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 35\n      }\n    }, \" \", \" \", \"Leave Without Pay \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Maternity Leave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 35\n      }\n    }, \" \", \" \", \"Maternity Leave \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Maternity Leave(Miscarriage)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 35\n      }\n    }, \" \", \" \", \"Maternity Leave(Miscarriage) \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Maternity Leave(Adoption or Surrogacy)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 35\n      }\n    }, \" \", \" \", \"Maternity Leave(Adoption or Surrogacy) \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Compansatory Off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 35\n      }\n    }, \" \", \" \", \"Compansatory Off \", \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Work From Home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 35\n      }\n    }, \" Work From Home \"), \" \", \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"On Duty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 86\n      }\n    }, \" On Duty \"), \" \", \" \"), \" \", \" \"), \" \", \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, \" From Date: \"), \" \", \" \", /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"form-control\",\n      selected: fromDate,\n      onChange: this.handleDateChangefrom,\n      name: \"fromDate\",\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 66\n      }\n    })), \" \", \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"published_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \" To Date: \"), \" \", \" \", /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"form-control\",\n      selected: toDate,\n      onChange: this.handleDateChangeto,\n      name: \"toDate\",\n      dateFormat: \"MM/dd/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 70\n      }\n    })), \" \", \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"publisher\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \" Reason: \"), \" \", \" \", /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"reason\",\n      value: reason,\n      onChange: this.onChange,\n      placeholder: \"Reason\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 64\n      }\n    })), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 32\n      }\n    }, \" \", \" \", \"Submit \", \" \", \" \"), \" \", \" \"), \" \", \" \"), \" \", \" \"), \" \", \" \");\n  }\n\n}\n\nexport default ApplyLeave;","map":{"version":3,"sources":["C:/Users/monu/Downloads/lms-develop/lms/src/LeaveComponent/ApplyLeave.js"],"names":["React","Component","DatePicker","axios","Link","ApplyLeave","constructor","props","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","type","reason","fromDate","toDate","post","match","params","id","then","result","history","push","leave_name","max_count","Date","isLoading","Types","handleDateChangefrom","bind","handleDateChangeto","componentDidMount","response","fetch","body","json","date","render","optionList","map","types"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ApplyLeave extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            type: {\r\n                id: 0,\r\n                leave_name: \"\",\r\n                max_count: 0,\r\n            },\r\n            reason: \"\",\r\n            fromDate: new Date(),\r\n            toDate: new Date(),\r\n            isLoading: false,\r\n            Types: []\r\n        };\r\n        this.handleDateChangefrom = this.handleDateChangefrom.bind(this);\r\n        this.handleDateChangeto = this.handleDateChangeto.bind(this);\r\n    }\r\n    onChange = (e) => {\r\n        const state = this.state;\r\n        state[e.target.name] = e.target.value;\r\n        this.setState(state);\r\n    };\r\n\r\n    async componentDidMount() {\r\n        const response = await fetch('/leavestype');\r\n        const body = await response.json();\r\n        this.setState({ Types: body, isLoading: false });\r\n    }\r\n\r\n    handleDateChangefrom(date) {\r\n        this.setState({\r\n            fromDate: date,\r\n        });\r\n    }\r\n    handleDateChangeto(date) {\r\n        this.setState({\r\n            toDate: date,\r\n        });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { type, reason, fromDate, toDate } = this.state;\r\n\r\n        axios\r\n            .post(\"/employees/\" + this.props.match.params.id + \"/leaves\", {\r\n                type,\r\n                reason,\r\n                fromDate,\r\n                toDate,\r\n            })\r\n            .then((result) => {\r\n                this.props.history.push(\"/activeleaves\");\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { type, reason, fromDate, toDate } = this.state;\r\n        const { Types } = this.state;\r\n\r\n        if (isLoading)\r\n            return ( < div > Loading.... < /div>)\r\n\r\n                let optionList = Types.map((types) =>\r\n                    <\r\n                    option value = { types.id }\r\n                    key = { types.id } > { types.leave_name } <\r\n                    /option>\r\n                )\r\n                return ( <\r\n                    div className = \"container\" >\r\n                    <\r\n                    div className = \"panel panel-default\" >\r\n                    <\r\n                    div className = \"panel-heading\" >\r\n                    <\r\n                    center > { \" \" } <\r\n                    h2 className = \"panel-title\" > ADD Leaves < /h2>{\" \"} <\r\n                    /center>{\" \"} <\r\n                    /div>{\" \"} <\r\n                    div className = \"panel-body\" >\r\n                    <\r\n                    h4 > { \" \" } <\r\n                    Link to = \"/list\" > { \" \" } <\r\n                    span className = \"glyphicon glyphicon-th-list\" > < /span> Employees\r\n                    List { \" \" } <\r\n                    /Link>{\" \"} <\r\n                    /h4>{\" \"} <\r\n                    form onSubmit = { this.onSubmit } >\r\n                    <\r\n                    div className = \"form-group\" >\r\n                    <\r\n                    label\r\n                    for = \"isbn\" > Type: < /label>{\" \"} <\r\n                    select className = \"form-control\"\r\n                    name = \"type\"\r\n                    value = { type }\r\n                    onChange = { this.onChange } >\r\n                    <\r\n                    option value = \"\" > Select < /option>{\" \"} <\r\n                    option value = \"Earned Leave\" > Earned Leave < /option>{\" \"} <\r\n                    option value = \"Accumulated Earned Leave\" > { \" \" }\r\n                    Accumulated Earned Leave { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Leave Without Pay\" > { \" \" }\r\n                    Leave Without Pay { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Maternity Leave\" > { \" \" }\r\n                    Maternity Leave { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Maternity Leave(Miscarriage)\" > { \" \" }\r\n                    Maternity Leave(Miscarriage) { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Maternity Leave(Adoption or Surrogacy)\" > { \" \" }\r\n                    Maternity Leave(Adoption or Surrogacy) { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Compansatory Off\" > { \" \" }\r\n                    Compansatory Off { \" \" } <\r\n                    /option>{\" \"} <\r\n                    option value = \"Work From Home\" > Work From Home < /option>{\" \"} <\r\n                    option value = \"On Duty\" > On Duty < /option>{\" \"} <\r\n                    /select>{\" \"} <\r\n                    /div>{\" \"} <\r\n                    div className = \"form-group\" >\r\n                    <\r\n                    label\r\n                    for = \"password\" > From Date: < /label>{\" \"} <\r\n                    DatePicker className = \"form-control\"\r\n                    selected = { fromDate }\r\n                    onChange = { this.handleDateChangefrom }\r\n                    name = \"fromDate\"\r\n                    dateFormat = \"MM/dd/yyyy\" /\r\n                    >\r\n                    <\r\n                    /div>{\" \"} <\r\n                    div className = \"form-group\" >\r\n                    <\r\n                    label\r\n                    for = \"published_date\" > To Date: < /label>{\" \"} <\r\n                    DatePicker className = \"form-control\"\r\n                    selected = { toDate }\r\n                    onChange = { this.handleDateChangeto }\r\n                    name = \"toDate\"\r\n                    dateFormat = \"MM/dd/yyyy\" /\r\n                    >\r\n                    <\r\n                    /div>{\" \"} <\r\n                    div className = \"form-group\" >\r\n                    <\r\n                    label\r\n                    for = \"publisher\" > Reason: < /label>{\" \"} <\r\n                    textarea type = \"text\"\r\n                    class = \"form-control\"\r\n                    name = \"reason\"\r\n                    value = { reason }\r\n                    onChange = { this.onChange }\r\n                    placeholder = \"Reason\" /\r\n                    >\r\n                    <\r\n                    /div>{\" \"} <\r\n                    button type = \"submit\"\r\n                    class = \"btn btn-secondary\" > { \" \" }\r\n                    Submit { \" \" } <\r\n                    /button>{\" \"} <\r\n                    /form>{\" \"} <\r\n                    /div>{\" \"} <\r\n                    /div>{\" \"} <\r\n                    /div>\r\n                );\r\n            }\r\n    }\r\n\r\n    export default ApplyLeave;"]},"metadata":{},"sourceType":"module"}